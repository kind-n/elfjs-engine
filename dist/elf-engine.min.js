/**
 * 
 * https://www.elfjs.org
 * 
 * @copyright 2018 Wu Hu. All Rights Reserved.
 * 
 * @version 2.0.0
 * @license MIT
 * 
 */
"use strict";!function(a,s){function c(e){throw e}function r(e,t){return i(e)&&!(l(r=e)||"number"==typeof r||"boolean"==typeof r)&&t in e;var r}function n(e){return e.replace(y,function(e){return"&"+g[e]+";"})}function e(t){return{get:function(){return r(this.attributes,t)},set:function(e){e?this.attributes[t]=t:delete this.attributes[t]}}}function i(e){return null!=e}function l(e){return"string"==typeof e}function d(e){return i(e)&&"object"==typeof e}function h(e){return!l(e)||""===e}function t(e){return b===e}function o(){}function u(e){this.parentNode=null,this.textContent=String(e),this.ownerDocument=N}function f(e){this.parentNode=null,this.textContent=String(e),this.ownerDocument=N}function p(e,t){this.parentNode=null,this.ownerDocument=N,this.namespaceURI=e,this.localName=t,this.style=new m(this),this.childNodes=[],this.attributes={}}function m(e){this.element=e}u.prototype.isDefaultNamespace=t,Object.defineProperty(u.prototype,"outerHTML",{get:function(){return n(this.textContent)}}),f.prototype.isDefaultNamespace=t,Object.defineProperty(f.prototype,"outerHTML",{get:function(){return"\x3c!--"+n(this.textContent)+"--\x3e"}}),p.prototype.addEventListener=o,p.prototype.removeEventListener=o,p.prototype.isDefaultNamespace=t,p.prototype.removeAttribute=function(e){delete this.attributes[e]},p.prototype.setAttribute=function(e,t){this.attributes[e]=String(t)},p.prototype.insertBefore=function(e,t){if(e.parentNode&&e.parentNode.removeChild(e),t){if(t.parentNode===this){var r=this.childNodes.indexOf(t);if(0<=r)return void(e.parentNode=this).childNodes.splice(r,0,e)}c(new Error("The node before which the new node is to be inserted is not a child of this node"))}(e.parentNode=this).childNodes.push(e)},p.prototype.removeChild=function(e){if(e.parentNode===this){var t=this.childNodes.indexOf(e);if(0<=t)return e.parentNode=null,void this.childNodes.splice(t,1)}c(new Error("The node to be removed is not a child of this node"))},Object.defineProperties(p.prototype,{async:e("async"),autoFocus:e("autofocus"),autoplay:e("autoplay"),checked:e("checked"),controls:e("controls"),default:e("default"),defer:e("defer"),disabled:e("disabled"),hidden:e("hidden"),loop:e("loop"),multiple:e("multiple"),muted:e("muted"),noValidate:e("novalidate"),formNoValidate:e("formnovalidate"),open:e("open"),readOnly:e("readonly"),required:e("required"),reversed:e("reversed"),scoped:e("scoped"),selected:e("selected"),className:{get:function(){return this.attributes.class||""},set:function(e){(e=String(e))?this.attributes.class=e:delete this.attributes.class}},defaultValue:{get:function(){return this.attributes.value||""},set:function(e){r(this.attributes,"value")||(this.attributes.value=e)}},defaultChecked:{get:function(){return r(this.attributes,"checked")},set:function(e){r(this.attributes,"checked")||e&&(this.attributes.checked="checked")}},firstChild:{get:function(){return this.childNodes[0]||null}},previousSibling:{get:function(){var e=this.parentNode;if(e){var t=e.childNodes.indexOf(this);if(0===t)return null;if(0<t)return e.childNodes[t-1];c(new Error("Unknow"))}return null}},nextSibling:{get:function(){var e=this.parentNode;if(e){var t=e.childNodes.indexOf(this);if(t===e.childNodes.length-1)return null;if(t<e.childNodes.length-1)return e.childNodes[t+1];c(new Error("Unknown"))}return null}},outerHTML:{get:function(){var e="<"+this.localName;for(var t in this.attributes)e+=" "+t+'="'+n(this.attributes[t])+'"';return e+=">",r(v,this.localName)?e:(r(this,"innerHTML")?e+=String(this.innerHTML):e+=this.childNodes.map(function(e){return e.outerHTML}).join(""),e+="</"+this.localName+">")}}}),Object.defineProperty(m.prototype,"cssText",{get:function(){return this.element.attributes.style||""},set:function(e){(e=String(e))?this.element.attributes.style=e:delete this.element.attributes.style}});var y=/(?:\x22|\x26|\x3c|\x3e|[\xa0-\xff])/g,b="http://www.w3.org/1999/xhtml",v={area:0,base:0,br:0,col:0,embed:0,hr:0,img:0,input:0,keygen:0,link:0,menuitem:0,meta:0,param:0,source:0,track:0,wbr:0},g={'"':"quot","&":"amp","<":"lt",">":"gt","\xa0":"nbsp","\xa1":"iexcl","\xa2":"cent","\xa3":"pound","\xa4":"curren","\xa5":"yen","\xa6":"brvbar","\xa7":"sect","\xa8":"uml","\xa9":"copy","\xaa":"ordf","\xab":"laquo","\xac":"not","\xad":"shy","\xae":"reg","\xaf":"macr","\xb0":"deg","\xb1":"plusmn","\xb2":"sup2","\xb3":"sup3","\xb4":"acute","\xb5":"micro","\xb6":"para","\xb7":"middot","\xb8":"cedil","\xb9":"sup1","\xba":"ordm","\xbb":"raquo","\xbc":"frac14","\xbd":"frac12","\xbe":"frac34","\xbf":"iquest","\xc0":"Agrave","\xc1":"Aacute","\xc2":"Acirc","\xc3":"Atilde","\xc4":"Auml","\xc5":"Aring","\xc6":"AElig","\xc7":"Ccedil","\xc8":"Egrave","\xc9":"Eacute","\xca":"Ecirc","\xcb":"Euml","\xcc":"Igrave","\xcd":"Iacute","\xce":"Icirc","\xcf":"Iuml","\xd0":"ETH","\xd1":"Ntilde","\xd2":"Ograve","\xd3":"Oacute","\xd4":"Ocirc","\xd5":"Otilde","\xd6":"Ouml","\xd7":"times","\xd8":"Oslash","\xd9":"Ugrave","\xda":"Uacute","\xdb":"Ucirc","\xdc":"Uuml","\xdd":"Yacute","\xde":"THORN","\xdf":"szlig","\xe0":"agrave","\xe1":"aacute","\xe2":"acirc","\xe3":"atilde","\xe4":"auml","\xe5":"aring","\xe6":"aelig","\xe7":"ccedil","\xe8":"egrave","\xe9":"eacute","\xea":"ecirc","\xeb":"euml","\xec":"igrave","\xed":"iacute","\xee":"icirc","\xef":"iuml","\xf0":"eth","\xf1":"ntilde","\xf2":"ograve","\xf3":"oacute","\xf4":"ocirc","\xf5":"otilde","\xf6":"ouml","\xf7":"divide","\xf8":"oslash","\xf9":"ugrave","\xfa":"uacute","\xfb":"ucirc","\xfc":"uuml","\xfd":"yacute","\xfe":"thorn","\xff":"yuml"},N={isDefaultNamespace:t,createAttributeNS:function(e,t){return new p(e,t)},createTextNode:function(e){return new u(e)},createComment:function(e){return new f(e)},createElement:function(e){return new p(b,e)}};a.renderToString=function(e){var t=N.createElement("fragment");return a.render(e,t),t.firstChild.outerHTML},a.redactByLayout=function(u){return a.redactElement(u,Array.prototype.slice(arguments,1).concat([a.Component("layout",{render:function(){var e="",t=this.props.href,r=this.props.children,n=u.filename;if((h(t)||h(n))&&c(new Error("Unable to calculate the path of layout")),!s){var i;"function"!=typeof(i=a.require)&&c(new Error("Layout needs to be introduced 'elfjs-loader' module"));var o=i(i.resolve(i.dirname(n),t));return"resolved"===o.status?e=o.result:c(new Error("Layout needs to be loaded in advance")),a.redactElement(e,[a.Component("head",{render:function(){return a.createElement("head",this.props,this.props.children.concat(r.filter(function(e){if(d(e)&&l(e.type)){var t=e.type.toLowerCase();return"base"===t||"link"===t||"meta"===t||"title"===t||"style"===t}return!1})))}}),a.Component("body",{render:function(){return a.createElement("body",this.props,this.props.children.concat(r.filter(function(e){return!(!d(e)||!l(e.type))&&"script"===e.type.toLowerCase()})))}}),a.Component("outlet",{render:function(){var e=r.filter(function(e){if(d(e)&&l(e.type)){var t=e.type.toLowerCase();return"base"!==t&&"link"!==t&&"meta"!==t&&"title"!==t&&"style"!==t&&"script"!==t}return!0});return 1<e.length?a.createElement("div",this.props,e):e[0]||null}})]).call(this)}(i=require("path")).isAbsolute(t)&&c(new Error("Layout href must be a relative path")),e=require("fs").readFileSync(i.resolve(i.dirname(n),t)).toString()}})]))}}("undefined"!=typeof exports?module.exports=require("elfjs"):this.Elf,"undefined"==typeof history);